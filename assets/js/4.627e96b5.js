(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{66:function(t,e,a){"use strict";a.r(e);var l=a(0),n=Object(l.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"mongodb-数据库，对象，集合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-数据库，对象，集合","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("MongoDB 数据库，对象，集合")])]),a("h2",{attrs:{id:"描述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#描述","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("描述")])]),a("p",[t._v("不管我们学习什么数据库都应该学习其中的基础概念，在mongodb中基本的概念是文档、集合、数据库，下面我们挨个介绍。")]),a("h2",{attrs:{id:"数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("数据库")])]),a("p",[t._v("一个mongodb中可以建立多个数据库。")]),a("p",[t._v('MongoDB的默认数据库为"db"，该数据库存储在data目录中。')]),a("p",[t._v('"show dbs" 命令可以显示所有数据的列表。')]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(">show dbs;\nadmin      0.0.78GB\njinbadata  0.0.78GB\nlocal      0.0.78GB\n")])]),a("p",[t._v('执行 "db" 命令可以显示当前数据库对象或者集合。')]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("db;\ntest\n")])]),a("p",[t._v('运行"use"命令，可以连接到一个指定的数据库。')]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("use jinbadata;\nswitched to db jinbadata\n")])]),a("p",[t._v('以上实例命令中，"jinbadata" 是你要检索的数据库。')]),a("p",[t._v("在下一个章节我们将详细讲解MongoDB中命令的使用。")]),a("p",[t._v('数据库名称可以是任何字符，但是不能包含空字符串，点号（.），或者" "。')]),a("p",[t._v('"system" 作为系统保留字符串不能作为数据库名。')]),a("p",[t._v('数据库名不能包含 "$"。')]),a("h2",{attrs:{id:"文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文档","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("文档")])]),a("p",[t._v("文档是mongodb中的最核心的概念，是其核心单元，我们可以将文档类比成关系型数据库中的每一行数据。")]),a("p",[t._v("多个键及其关联的值有序的放置在一起就是文档。在mongodb中使用一种类json的bson存储数据。")]),a("p",[t._v("bson数据可以理解为在json的基础上添加了一些json中没有的数据类型。")]),a("p",[t._v("如果我们会json，那么bson我们就已经掌握了一半了，至于新添加的数据类型后面我会介绍。")]),a("p",[t._v("文档例子如下：")]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{ site : "91jinrong.com" }\n')])]),a("p",[t._v('通常，"object（对象）" 术语是指一个文件。')]),a("p",[t._v("文件类似于一个RDBMS的记录。")]),a("p",[t._v("我们可以对集合（collection）进行插入，更新和删除操作。")]),a("p",[t._v("下表将帮助您更容易理解Mongo中的一些概念：")]),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("RDBMSMongoDB")])]),a("th",{staticStyle:{"text-align":"left"}})])]),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Table（表）")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("Collection（集合）")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Column（栏）")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("Key（键）")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Value（值）")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("Value（值）")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Records / Rows（记录/列）")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("Document / Object（文档/对象）")])])])]),a("p",[t._v("下表为MongoDB中常用的几种数据类型。")]),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("数据类型描述")])]),a("th",{staticStyle:{"text-align":"left"}})])]),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("string（字符串）")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("可以是一个空字符串或者字符组合。")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("integer（整型）")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("整数。")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("boolean（布尔型）")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("逻辑值 True 或者 False。")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("double")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("双精度浮点型")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("null")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("不是0，也不是空。")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("array")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("数组：一系列值")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("object")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("对象型，程序中被使用的实体。可以是一个值，变量，函数，或者数据结构。")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("timestamp")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("timestamp存储为64为的值，只运行一个mongod时可以确保是唯一的。前32位保存的是UTC时间，单位是秒，后32为是在这一秒内的计数值，从0开始，每新建一个MongoTimestamp对象就加一。")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Internationalized Strings")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("UTF-8 字符串。")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Object IDs")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("在mongodb中的文档需要使用唯一的关键字_id来标识他们。几乎每一个mongodb文档都使用_id字段作为第一个属性（在系统集合和定容量集合（capped collection）中有一些例外）。_id值可以是任何类型，最常见的做法是使用ObjectId类型。")])])])]),a("h2",{attrs:{id:"集合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#集合","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("集合")])]),a("p",[t._v("集合就是一组文档的组合。如果将文档类比成数据库中的行，那么集合就可以类比成数据库的表。")]),a("p",[t._v("在mongodb中的集合是无模式的，也就是说集合中存储的文档的结构可以是不同的，比如下面的两个文档可以同时存入到一个集合中：")]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{"name":"mengxiangyue"} {"Name":"mengxiangyue","sex":"nan"}\n\n')])]),a("p",[t._v("当第一个文档插入时，集合就会被创建。")]),a("h2",{attrs:{id:"合法的集合名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#合法的集合名","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("合法的集合名")])]),a("p",[t._v("集合名称必须以字母或下划线开头。")]),a("p",[t._v("集合名可以保护数字")]),a("p",[t._v('集合名称不能使美元符"$"，"$"是系统保留字符。')]),a("p",[t._v("集合的名字 最大不能超过128个字符 。")]),a("p",[t._v('另外，"."号的使用在集合当中是允许的，它们被成为子集合(Subcollection)；比如你有一个blog集合，你可以使用blog.title，blog.content或者blog.author来帮组你更好地组织集合。')]),a("p",[t._v("如下实例：")]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("db.tutorials.php.findOne()\n\n")])]),a("h2",{attrs:{id:"元数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元数据","aria-hidden":"true"}},[t._v("#")]),a("strong",[t._v("元数据")])]),a("p",[t._v("数据库的信息是存储在集合中。它们使用了系统的命名空间：")]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("dbname.system.*\n\n")])]),a("p",[t._v("在MongoDB数据库中名字空间 <dbname>.system.* 是包含多种系统信息的特殊集合(Collection)，如下:")]),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("集合命名空间描述")])]),a("th",{staticStyle:{"text-align":"left"}})])]),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("dbname.system.namespaces")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("列出所有名字空间。")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("dbname.system.indexes")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("列出所有索引。")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("dbname.system.profile")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("包含数据库概要(profile)信息。")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("dbname.system.users")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("列出所有可访问数据库的用户。")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("dbname.local.sources")]),a("td",{staticStyle:{"text-align":"left"}},[t._v("包含复制对端（slave）的服务器信息和状态。")])])])]),a("p",[t._v("对于修改系统集合中的对象有如下限制。")]),a("p",[t._v("在插入数据，可以创建索引。但除此之外该表信息是不可变的(特殊的drop index命令将自动更新相关信息)。")]),a("p",[t._v("是可修改的。 是可删除的。")])])}],!1,null,null,null);e.default=n.exports}}]);